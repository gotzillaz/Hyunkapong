#:kivy 1.8.0

<GameBall>:
    size: 40,40
    img: im
    Image:
        id: im
        source: 'images/robot_down.png'
        pos: self.parent.pos
        size: self.parent.size

<GamePlate>:
    size: 20,20
    img: im
    canvas:
        Color:
            rgba: 1,1,1,1
        Rectangle:
            pos: self.pos
            size: self.size
    Image:
        id: im
        source: 'images/flag_2.png'
        pos: self.parent.pos
        size: self.parent.size

<GamePopup>:
    size: 10000,10000
    next_s: ac
    re_s: re
    #canvas:
    #    Color:
    #        rgba: 1,1,0,0.7
    #    Rectangle:
    #        pos: 0,0
    #        size: self.size
    Button:
        size: 1000,1000
        pos: 0,0
        background_color: 0,0,0,0.7
        #enable: False
        #on_press: self.parent.parent.readStage(self.parent.parent.stage_id+1)
    Button: 
        id: ac
        text: "Next Stage"
        size: 200,200
        on_press: self.parent.parent.readStage(self.parent.parent.stage_id+1)
    Button:
        id: re
        text: "Restart"
        size: 200,200
        on_press: self.parent.parent.readStage(self.parent.parent.stage_id)
#<GameMap>:
#    size: 400,400
#    center_x: self.parent.center_x
#    center_y: self.parent.center_y
#    rows: 5
#    cols: 5
#    spacing: 0

<GameTab>:
    pos:0,0
    #gameball: bb
    #gamemap: gg
    #gamescore: lb

    #GameMap:
    #    id: gg
    #    map_t: []
    #    center_x: self.parent.center_x
    #    center_y: self.parent.center_y
    #    size_hint: None,None
    
    #GameBall:
    #    id: bb
    #    center: self.center
    
    #Label:
    #    id: lb
    #    pos: 400,0
    #    text: str(self.parent.score)

    #Button:
    #    size: 150,30
    #    pos: 0,570
    #    text: 'U'
    #    on_press: self.parent.changeStep('U')
    #Button:
    #    size: 150,30
    #    pos: 150,570
    #    text: 'D'
    #    on_press: self.parent.changeStep('D')
    #Button:
    #    size: 150,30
    #    pos: 300,570
    #    text: 'L'
    #    on_press: self.parent.changeStep('L')
    #Button:
    #    size: 150,30
    #    pos: 450,570
    #    text: 'R'
    #    on_press: self.parent.changeStep('R')
    #ToggleButton:
    #    size: 150,30
    #    pos: 600,570
    #    text: 'Toggle'
    #    on_press: self.parent.toggle()
        
    #Button:
    #    size: 10,30
    #    pos:770,570
    #    text: 'GG'
    #    on_press: self.parent.readStage()

    #Button:
    #    size: 10,30
    #    pos:790,570
    #    text: 'CC'
    #    on_press: self.parent.gameball.changeColor()

    #GameControl:
    #    pos:0,0

<GameControlCommand>:
    size: 500,500
    center: 100,100
    rows: 6
    cols: 6
    spacing: 0

<GameControl>:
    #gamecontrolcommand: cc
    #gamecontrolfunction: dd
    releasebutton: ee
    pos: 0,0

    #GameControlFunction: 
    #    id: dd
    #    center_x: self.parent.center_x
    #    center_y: self.parent.center_y
    #    size_hint: None,None
    #    
    #GameControlCommand:
    #    id: cc
    #    center_x: self.parent.center_x
    #    center_y: self.parent.center_y
    #    size_hint: None,None

    Button:
        id: ee
        pos: 330,50
        size: 50,50
        background_normal: 'images/re.png'
        background_down: 'images/re_c.png'
        #center_x: self.parent.center_x
        #center_y: self.parent.center_y
        size_hint: None,None
        on_press: self.parent.gamecontrolcommand.releaseButton()

<PopupContent>:
    orientation: 'vertical'
    
    Label:
        text: "Awesome"

    BoxLayout:
        orientation: 'horizontal'
        
        Button:
            text: "CC"
        Button:
            text: "Next Stage"
            on_press: root.parent.readStage(self.parent.parent.parent.stage_id+1)
        Button:
            text: "CC"

<GameScreen>:
    Widget:
        Image:
            size:root.size
            pos:0,0
            source: 'images/screen_top.png'
        Image:
            size:root.size
            pos:0,0
            source: 'images/screen_bottom.png'
    #GameControL:
    #    id: control
    GameTab:
        id: tab

<StartScreen>
    Widget:
        Image:
            size: root.size
            pos: 0,0
            source: 'images/screen_background.png'

        Image:
            size: root.size
            pos: 0,200
            source: 'images/logo.png'
            
        Button:
            size: 150,150
            background_normal: 'images/screen_play.png'
            background_down: 'images/screen_play.png'
            center: root.center
            center_y: root.center_y - 50 
            on_press: self.parent.parent.toGameScreen()
    #Button:
    #    text: 'Exit'
    #    size: 10,10
    #    pos: 300,500
    #    on_press: exit()
